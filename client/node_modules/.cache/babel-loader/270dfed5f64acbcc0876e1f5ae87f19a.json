{"ast":null,"code":"var _jsxFileName = \"/Users/juliancole/Documents/Git/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js\";\nimport React, { useState } from 'React';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\n\nconst LoginForm = props => {\n  // make a post request to retrieve a token from the api\n  // when you have handled the token, navigate to the BubblePage route\n  const [credentials, setCredentials] = useState({\n    username: '',\n    password: ''\n  });\n  const {\n    push\n  } = useHistory();\n\n  const login = event => {\n    // console.log('login event');\n    event.preventDefault(); // console.log('posting the following credentials: ', {credentials});\n\n    axios.post('http://localhost:5000/api/login', credentials).then(response => {\n      console.log('response value: ', response);\n      localStorage.setItem('token', response.data.payload); // to redirect to list of friends\n\n      push('/bubbles');\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const handleChange = event => {\n    // console.log('handlechange event');\n    setCredentials({ ...credentials,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Welcome to the Bubble App!\"), React.createElement(\"form\", {\n    onSubmit: login,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"Login\"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    placeholder: \"username\",\n    value: credentials.username,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"password\",\n    value: credentials.password,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \" log in \")));\n};\n\nexport default LoginForm;","map":{"version":3,"sources":["/Users/juliancole/Documents/Git/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js"],"names":["React","useState","axios","useHistory","LoginForm","props","credentials","setCredentials","username","password","push","login","event","preventDefault","post","then","response","console","log","localStorage","setItem","data","payload","catch","error","handleChange","target","name","value"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,UAAR,QAAyB,kBAAzB;;AAEA,MAAMC,SAAS,GAAIC,KAAD,IAAW;AAC3B;AACA;AAEE,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCN,QAAQ,CAAC;AAACO,IAAAA,QAAQ,EAAE,EAAX;AAAeC,IAAAA,QAAQ,EAAE;AAAzB,GAAD,CAA9C;AACA,QAAM;AAACC,IAAAA;AAAD,MAASP,UAAU,EAAzB;;AACA,QAAMQ,KAAK,GAAGC,KAAK,IAAI;AACnB;AACAA,IAAAA,KAAK,CAACC,cAAN,GAFmB,CAGnB;;AAEAX,IAAAA,KAAK,CACJY,IADD,CACM,iCADN,EACyCR,WADzC,EAECS,IAFD,CAEMC,QAAQ,IAAI;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCF,QAAhC;AACAG,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,QAAQ,CAACK,IAAT,CAAcC,OAA5C,EAFc,CAKd;;AACCZ,MAAAA,IAAI,CAAC,UAAD,CAAJ;AACJ,KATD,EAUCa,KAVD,CAUOC,KAAK,IAAI;AACZP,MAAAA,OAAO,CAACC,GAAR,CAAYM,KAAZ;AACH,KAZD;AAgBH,GArBD;;AAuBA,QAAMC,YAAY,GAAGb,KAAK,IAAI;AAC1B;AACAL,IAAAA,cAAc,CAAC,EAAC,GAAGD,WAAJ;AAAiB,OAACM,KAAK,CAACc,MAAN,CAAaC,IAAd,GAAqBf,KAAK,CAACc,MAAN,CAAaE;AAAnD,KAAD,CAAd;AAGH,GALD;;AAOA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADA,EAGE;AAAM,IAAA,QAAQ,EAAEjB,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADJ,EAKI;AACI,IAAA,IAAI,EAAG,MADX;AACkB,IAAA,IAAI,EAAG,UADzB;AACoC,IAAA,WAAW,EAAG,UADlD;AAC6D,IAAA,KAAK,EAAIL,WAAW,CAACE,QADlF;AAC4F,IAAA,QAAQ,EAAIiB,YADxG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,EAQI;AACI,IAAA,IAAI,EAAG,UADX;AACsB,IAAA,IAAI,EAAG,UAD7B;AACwC,IAAA,WAAW,EAAG,UADtD;AACiE,IAAA,KAAK,EAAInB,WAAW,CAACG,QADtF;AACgG,IAAA,QAAQ,EAAIgB,YAD5G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARJ,EAaI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAbJ,CAHF,CADF;AAqBH,CAzDD;;AA2DA,eAAerB,SAAf","sourcesContent":["import React, {useState} from 'React';\nimport axios from 'axios';\nimport {useHistory} from 'react-router-dom';\n\nconst LoginForm = (props) => {\n  // make a post request to retrieve a token from the api\n  // when you have handled the token, navigate to the BubblePage route\n\n    const [credentials, setCredentials] = useState({username: '', password: ''});\n    const {push} = useHistory();\n    const login = event => {\n        // console.log('login event');\n        event.preventDefault();\n        // console.log('posting the following credentials: ', {credentials});\n        \n        axios\n        .post('http://localhost:5000/api/login', credentials)\n        .then(response => {\n            console.log('response value: ', response);\n            localStorage.setItem('token', response.data.payload);\n            \n\n            // to redirect to list of friends\n             push('/bubbles');\n        })\n        .catch(error => {\n            console.log(error);\n        }\n        )\n      \n      \n    }\n\n    const handleChange = event => {\n        // console.log('handlechange event');\n        setCredentials({...credentials, [event.target.name]: event.target.value}\n            );\n       \n    }\n\n    return (\n      <div>\n      <h1>Welcome to the Bubble App!</h1>\n      \n        <form onSubmit={login}>\n            <h3>\n                Login\n            </h3>\n\n            <input\n                type = 'text' name = 'username' placeholder = 'username' value = {credentials.username} onChange = {handleChange} \n            />\n            <input\n                type = 'password' name = 'password' placeholder = 'password' value = {credentials.password} onChange = {handleChange} \n            />\n\n        \n            <button> log in </button>\n        </form>\n        </div>\n    )\n}\n\nexport default LoginForm;"]},"metadata":{},"sourceType":"module"}