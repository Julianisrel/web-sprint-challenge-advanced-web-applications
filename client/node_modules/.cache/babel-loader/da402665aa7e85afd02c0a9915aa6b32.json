{"ast":null,"code":"import _defineProperty from\"/Users/juliancole/Documents/Git/web-sprint-challenge-advanced-web-applications/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/juliancole/Documents/Git/web-sprint-challenge-advanced-web-applications/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/juliancole/Documents/Git/web-sprint-challenge-advanced-web-applications/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import axios from'axios';import{useHistory}from'react-router-dom';var LoginForm=function LoginForm(props){// make a post request to retrieve a token from the api\n// when you have handled the token, navigate to the BubblePage route\nvar _useState=useState({username:'',password:''}),_useState2=_slicedToArray(_useState,2),credentials=_useState2[0],setCredentials=_useState2[1];var _useHistory=useHistory(),push=_useHistory.push;var login=function login(event){// console.log('login event');\nevent.preventDefault();// console.log('posting the following credentials: ', {credentials});\naxios.post('http://localhost:5000/api/login',credentials).then(function(response){console.log('response value: ',response);localStorage.setItem('token',response.data.payload);// to redirect to list of friends\npush('/bubbles');}).catch(function(error){console.log(error);});};var handleChange=function handleChange(event){// console.log('handlechange event');\nsetCredentials(_objectSpread({},credentials,_defineProperty({},event.target.name,event.target.value)));};return React.createElement(\"div\",null,React.createElement(\"h1\",null,\"Welcome to the Bubble App!\"),React.createElement(\"form\",{onSubmit:login},React.createElement(\"h3\",null,\"Login\"),React.createElement(\"input\",{type:\"text\",name:\"username\",placeholder:\"username\",value:credentials.username,onChange:handleChange}),React.createElement(\"input\",{type:\"password\",name:\"password\",placeholder:\"password\",value:credentials.password,onChange:handleChange}),React.createElement(\"button\",null,\" log in \")));};export default LoginForm;","map":{"version":3,"sources":["/Users/juliancole/Documents/Git/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js"],"names":["React","useState","axios","useHistory","LoginForm","props","username","password","credentials","setCredentials","push","login","event","preventDefault","post","then","response","console","log","localStorage","setItem","data","payload","catch","error","handleChange","target","name","value"],"mappings":"yfAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,UAAR,KAAyB,kBAAzB,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,KAAD,CAAW,CAC3B;AACA;AAF2B,cAIaJ,QAAQ,CAAC,CAACK,QAAQ,CAAE,EAAX,CAAeC,QAAQ,CAAE,EAAzB,CAAD,CAJrB,wCAIlBC,WAJkB,eAILC,cAJK,+BAKVN,UAAU,EALA,CAKlBO,IALkB,aAKlBA,IALkB,CAMzB,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAAAC,KAAK,CAAI,CACnB;AACAA,KAAK,CAACC,cAAN,GACA;AAEAX,KAAK,CACJY,IADD,CACM,iCADN,CACyCN,WADzC,EAECO,IAFD,CAEM,SAAAC,QAAQ,CAAI,CACdC,OAAO,CAACC,GAAR,CAAY,kBAAZ,CAAgCF,QAAhC,EACAG,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BJ,QAAQ,CAACK,IAAT,CAAcC,OAA5C,EAGA;AACCZ,IAAI,CAAC,UAAD,CAAJ,CACJ,CATD,EAUCa,KAVD,CAUO,SAAAC,KAAK,CAAI,CACZP,OAAO,CAACC,GAAR,CAAYM,KAAZ,EACH,CAZD,EAgBH,CArBD,CAuBA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAb,KAAK,CAAI,CAC1B;AACAH,cAAc,kBAAKD,WAAL,oBAAmBI,KAAK,CAACc,MAAN,CAAaC,IAAhC,CAAuCf,KAAK,CAACc,MAAN,CAAaE,KAApD,GAAd,CAGH,CALD,CAOA,MACE,gCACA,2DADA,CAGE,4BAAM,QAAQ,CAAEjB,KAAhB,EACI,sCADJ,CAKI,6BACI,IAAI,CAAG,MADX,CACkB,IAAI,CAAG,UADzB,CACoC,WAAW,CAAG,UADlD,CAC6D,KAAK,CAAIH,WAAW,CAACF,QADlF,CAC4F,QAAQ,CAAImB,YADxG,EALJ,CAQI,6BACI,IAAI,CAAG,UADX,CACsB,IAAI,CAAG,UAD7B,CACwC,WAAW,CAAG,UADtD,CACiE,KAAK,CAAIjB,WAAW,CAACD,QADtF,CACgG,QAAQ,CAAIkB,YAD5G,EARJ,CAaI,6CAbJ,CAHF,CADF,CAqBH,CAzDD,CA2DA,cAAerB,CAAAA,SAAf","sourcesContent":["import React, {useState} from 'react';\nimport axios from 'axios';\nimport {useHistory} from 'react-router-dom';\n\nconst LoginForm = (props) => {\n  // make a post request to retrieve a token from the api\n  // when you have handled the token, navigate to the BubblePage route\n\n    const [credentials, setCredentials] = useState({username: '', password: ''});\n    const {push} = useHistory();\n    const login = event => {\n        // console.log('login event');\n        event.preventDefault();\n        // console.log('posting the following credentials: ', {credentials});\n        \n        axios\n        .post('http://localhost:5000/api/login', credentials)\n        .then(response => {\n            console.log('response value: ', response);\n            localStorage.setItem('token', response.data.payload);\n            \n\n            // to redirect to list of friends\n             push('/bubbles');\n        })\n        .catch(error => {\n            console.log(error);\n        }\n        )\n      \n      \n    }\n\n    const handleChange = event => {\n        // console.log('handlechange event');\n        setCredentials({...credentials, [event.target.name]: event.target.value}\n            );\n       \n    }\n\n    return (\n      <div>\n      <h1>Welcome to the Bubble App!</h1>\n      \n        <form onSubmit={login}>\n            <h3>\n                Login\n            </h3>\n\n            <input\n                type = 'text' name = 'username' placeholder = 'username' value = {credentials.username} onChange = {handleChange} \n            />\n            <input\n                type = 'password' name = 'password' placeholder = 'password' value = {credentials.password} onChange = {handleChange} \n            />\n\n        \n            <button> log in </button>\n        </form>\n        </div>\n    )\n}\n\nexport default LoginForm;"]},"metadata":{},"sourceType":"module"}