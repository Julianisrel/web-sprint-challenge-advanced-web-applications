{"version":3,"sources":["components/PrivateRoute.js","components/Login.js","components/Bubbles.js","utils/auth.js","components/ColorList.js","components/BubblePage.js","utils/api.js","App.js","index.js"],"names":["PrivateRoute","Component","component","rest","render","props","localStorage","getItem","console","log","to","LoginForm","useState","username","password","credentials","setCredentials","push","useHistory","handleChange","event","target","name","value","onSubmit","preventDefault","axios","post","then","response","setItem","data","payload","catch","error","type","placeholder","onChange","Bubbles","colors","bubbleData","setBubbleData","useEffect","generateBubbleData","map","_","i","Math","floor","random","length","key","className","width","height","children","sum","datum","size","includeRoot","nodeEnter","d","r","animate","nodes","x","y","cx","cy","fill","code","hex","filter","v","axiosWithAuth","token","create","baseURL","headers","Authorization","initialColor","color","ColorList","updateColors","editing","setEditing","colorToEdit","setColorToEdit","newColor","setNewColor","onClick","editColor","e","id","stopPropagation","window","confirm","delete","res","err","style","backgroundColor","put","location","reload","BubblePage","colorList","setColorList","get","App","exact","path","Login","rootElement","document","getElementById","ReactDOM"],"mappings":"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","file":"static/js/main.6312bb2f.chunk.js","sourcesContent":["import React from 'react';\nimport {Route, Redirect} from \"react-router-dom\";\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n    return (\n        <Route \n        {...rest}\n        render={props => {\n            if (localStorage.getItem(\"token\")) {\n              // when token is in localStorage, render the given component\n              return <Component {...props} />;\n            } else {\n              // redirect to login\n              console.log(\"redirecting!\");\n              return <Redirect to=\"/login\" />;\n            }\n          }}\n        />\n      );\n    };\n    \n    export default PrivateRoute;\n","import React, {useState} from 'react';\nimport axios from 'axios';\nimport {useHistory} from 'react-router-dom';\n\nconst LoginForm = (props) => {\n  // make a post request to retrieve a token from the api\n  // when you have handled the token, navigate to the BubblePage route\n\n    const [credentials, setCredentials] = useState({username: '', password: ''});\n    const {push} = useHistory();\n    const login = event => {\n        // console.log('login event');\n        event.preventDefault();\n        // console.log('posting the following credentials: ', {credentials});\n        \n        axios\n        .post('http://localhost:5000/api/login', credentials)\n        .then(response => {\n            console.log('response value: ', response);\n            localStorage.setItem('token', response.data.payload);\n            \n\n            // to redirect to list of friends\n             push('/bubbles');\n        })\n        .catch(error => {\n            console.log(error);\n        }\n        )\n      \n      \n    }\n\n    const handleChange = event => {\n        // console.log('handlechange event');\n        setCredentials({...credentials, [event.target.name]: event.target.value}\n            );\n       \n    }\n\n    return (\n      <div>\n      <h1>Welcome to the Bubble App!</h1>\n      \n        <form onSubmit={login}>\n            <h3>\n                Login\n            </h3>\n\n            <input\n                type = 'text' name = 'username' placeholder = 'username' value = {credentials.username} onChange = {handleChange} \n            />\n            <input\n                type = 'password' name = 'password' placeholder = 'password' value = {credentials.password} onChange = {handleChange} \n            />\n\n        \n            <button> log in </button>\n        </form>\n        </div>\n    )\n}\n\nexport default LoginForm;","import React, { useState, useEffect } from \"react\";\nimport { Pack } from \"@potion/layout\";\nimport { Svg, Circle } from \"@potion/element\";\n\nconst Bubbles = ({ colors }) => {\n  const [bubbleData, setBubbleData] = useState([]);\n  useEffect(() => {\n    const generateBubbleData = colors.map((_, i) => ({\n      value: Math.floor(Math.random() * (colors.length * 2)) + 1,\n      key: `${i + 1}`\n    }));\n    setBubbleData(generateBubbleData);\n  }, [colors]);\n\n  return (\n    <div className=\"bubble-wrap\">\n      <p>bubbles</p>\n      <Svg width={400} height={400}>\n        <Pack\n          data={{\n            children: bubbleData\n          }}\n          sum={datum => datum.value}\n          size={[400, 400]}\n          includeRoot={false}\n          nodeEnter={d => ({ ...d, r: 0 })}\n          animate\n        >\n          {nodes =>\n            nodes\n              .map(({ x, y, r, key }, i) => {\n                if (i < colors.length) {\n                  return (\n                    <Circle\n                      key={key}\n                      cx={x}\n                      cy={y}\n                      r={r}\n                      fill={colors[i].code.hex}\n                    />\n                  );\n                }\n                return null;\n              })\n              .filter(v => v)\n          }\n        </Pack>\n      </Svg>\n    </div>\n  );\n};\n\nexport default Bubbles;\n","// import React from \"react\";\nimport axios from \"axios\";\n\nexport const axiosWithAuth = () => {\n\tconst token = localStorage.getItem('token');\n\t// will return  an instance of axios\n\treturn axios.create({\n\t\tbaseURL : 'http://localhost:5000',\n\t\theaders : {\n\t\t\tAuthorization : token,\n\t\t},\n\t});\n};","import React, { useState } from \"react\";\nimport {useHistory} from 'react-router-dom';\nimport { axiosWithAuth } from \"../utils/auth\";\n\nconst initialColor = {\n  color: \"\",\n  code: { hex: \"\" }\n};\n\nconst ColorList = ({ colors, updateColors }) => {\n  const {push} = useHistory();\n  console.log(colors);\n  const [editing, setEditing] = useState(false);\n  const [colorToEdit, setColorToEdit] = useState(initialColor);\n  const [newColor, setNewColor] = useState({\n    color: \"\",\n    code: { hex: \"\" }\n  });\n\n  const editColor = color => {\n    setEditing(true);\n    setColorToEdit(color);\n  };\n\n  const saveEdit = e => {\n    e.preventDefault();\n    // Make a put request to save your updated color\n    // think about where will you get the id from...\n    // where is is saved right now?\n    axiosWithAuth()\n      .put(`api/colors/${colorToEdit.id}`, colorToEdit)\n      .then(res => {\n        updateColors([\n          ...colors.filter(color => color.id !== colorToEdit.id),\n          res.data,\n        ]);\n        setEditing(false);\n      })\n      .catch(err => console.log(err));\n      window.location.reload();\n  };\n\n  const deleteColor = id => {\n    id.preventDefault();\n    if (window.confirm(\"Are you sure you want to delete this color?\")) {\n      updateColors(colors.filter(color => color.id !== id));\n\n      axiosWithAuth()\n        .delete(`/api/colors/${id}`)\n        .then(res => {\n          console.log(`Color with ID: ${id}, was deleted`);\n        })\n        .catch(err => {\n         console.log(err)\n        });\n        \n    }\n  };\n\n  const handleNewColor = (e) => {\n    e.preventDefault()\n\n    axiosWithAuth().post('/api/colors', newColor)\n      .then(res => {\n        console.log(newColor)\n      })\n      .catch(err => {\n     console.log(err)\n      })\n      push('/bubbles')\n  }\n\n  return (\n    <div className=\"colors-wrap\">\n      <p>colors</p>\n      <ul>\n        {colors.map(color => (\n          <li key={color.color} onClick={() => editColor(color)}>\n            <span>\n              <span\n                className=\"delete\"\n                onClick={e => {\n                  e.stopPropagation();\n                  deleteColor(color.id);\n                }}\n              >\n                x\n              </span>{\" \"}\n              {color.color}\n            </span>\n            <div\n              className=\"color-box\"\n              style={{ backgroundColor: color.code.hex }}\n            />\n          </li>\n        ))}\n      </ul>\n      {editing && (\n        <form onSubmit={saveEdit}>\n          <legend>edit color</legend>\n          <label>\n            color name:\n            <input\n              onChange={e =>\n                setColorToEdit({ ...colorToEdit, color: e.target.value })\n              }\n              value={colorToEdit.color}\n            />\n          </label>\n          <label>\n            hex code:\n            <input\n              onChange={e =>\n                setColorToEdit({\n                  ...colorToEdit,\n                  code: { hex: e.target.value }\n                })\n              }\n              value={colorToEdit.code.hex}\n            />\n          </label>\n          <div className=\"button-row\">\n            <button type=\"submit\">save</button>\n            <button onClick={() => setEditing(false)}>cancel</button>\n          </div>\n        </form>\n      )}\n      <div className=\"spacer\" />\n      <form onSubmit={handleNewColor}>\n        <label>\n          color name:\n            <input\n            onChange={e =>\n              setNewColor({ ...newColor, color: e.target.value })\n            }\n            value={newColor.color}\n          />\n        </label>\n        <label>\n          hex code:\n            <input\n            onChange={e =>\n              setNewColor({\n                ...newColor,\n                code: { hex: e.target.value }\n              })\n            }\n            value={newColor.code.hex}\n          />\n        </label>\n\n        <button type='submit'>Add Color</button>\n      </form>\n    </div>\n  );\n};\n\nexport default ColorList;","import React, { useState, useEffect } from \"react\";\n// import axios from \"axios\";\n\nimport Bubbles from \"./Bubbles\";\nimport ColorList from \"./ColorList\";\nimport { axiosWithAuth } from \"../utils/api\";\n\n// fetch your colors data from the server when the component mounts\n// set that data to the colorList state property\n\nconst BubblePage = () => {\n  const [colorList, setColorList] = useState([]);\n  useEffect(() => {\n    axiosWithAuth()\n      .get(\"/api/colors\")\n      .then(res => {\n        setColorList(res.data);\n      })\n      .catch(err => {\n         console.log(err)\n      });\n  }, []);\n  return (\n    <>\n      <ColorList colors={colorList} updateColors={setColorList} />\n      <Bubbles colors={colorList} />\n    </>\n  );\n};\n\nexport default BubblePage;\n","import axios from \"axios\";\nexport const axiosWithAuth = () => {\n\tconst token = localStorage.getItem('token');\n\t\n\treturn axios.create({\n\t\tbaseURL : 'http://localhost:5000',\n\t\theaders : {\n\t\t\tAuthorization : token\n\t\t},\n\t});\n};","import React from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport ProtectedRoute from './components/PrivateRoute';\nimport Login from \"./components/Login\";\nimport \"./styles.scss\";\nimport BubblePage from './components/BubblePage';\n// import ColorList from './components/ColorList';\nfunction App() {\n  return (\n    <Router>\n      <div className=\"App\">\n        <Route exact path=\"/\" component={Login} />\n        <ProtectedRoute exact path='/bubbles' component={BubblePage} />\n\n        {/* \n          Build a PrivateRoute component that will \n          display BubblePage when you're authenticated \n        */}\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}