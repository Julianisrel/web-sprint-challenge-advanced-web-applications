(this.webpackJsonpbubbles=this.webpackJsonpbubbles||[]).push([[0],{156:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(59),l=n.n(c),r=n(20),u=n(15),i=n(60),s=function(e){var t=e.component,n=Object(i.a)(e,["component"]);return o.a.createElement(u.b,Object.assign({},n,{render:function(e){return localStorage.getItem("token")?o.a.createElement(t,e):(console.log("redirecting!"),o.a.createElement(u.a,{to:"/login"}))}}))},m=n(25),b=n(13),p=n(9),f=n(17),d=n.n(f),h=function(e){var t=Object(a.useState)({username:"",password:""}),n=Object(p.a)(t,2),c=n[0],l=n[1],r=Object(u.f)().push,i=function(e){l(Object(b.a)({},c,Object(m.a)({},e.target.name,e.target.value)))};return o.a.createElement("div",null,o.a.createElement("h1",null,"Welcome to the Bubble App!"),o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),d.a.post("http://localhost:5000/api/login",c).then((function(e){console.log("response value: ",e),localStorage.setItem("token",e.data.payload),r("/bubbles")})).catch((function(e){console.log(e)}))}},o.a.createElement("h3",null,"Login"),o.a.createElement("input",{type:"text",name:"username",placeholder:"username",value:c.username,onChange:i}),o.a.createElement("input",{type:"password",name:"password",placeholder:"password",value:c.password,onChange:i}),o.a.createElement("button",null," log in ")))},E=(n(92),n(63)),g=n(40),v=function(e){var t=e.colors,n=Object(a.useState)([]),c=Object(p.a)(n,2),l=c[0],r=c[1];return Object(a.useEffect)((function(){var e=t.map((function(e,n){return{value:Math.floor(Math.random()*(2*t.length))+1,key:"".concat(n+1)}}));r(e)}),[t]),o.a.createElement("div",{className:"bubble-wrap"},o.a.createElement("p",null,"bubbles"),o.a.createElement(g.Svg,{width:400,height:400},o.a.createElement(E.Pack,{data:{children:l},sum:function(e){return e.value},size:[400,400],includeRoot:!1,nodeEnter:function(e){return Object(b.a)({},e,{r:0})},animate:!0},(function(e){return e.map((function(e,n){var a=e.x,c=e.y,l=e.r,r=e.key;return n<t.length?o.a.createElement(g.Circle,{key:r,cx:a,cy:c,r:l,fill:t[n].code.hex}):null})).filter((function(e){return e}))}))))},j=n(64),O=function(){var e=localStorage.getItem("token");return d.a.create({baseURL:"http://localhost:5000",headers:{Authorization:e}})},w={color:"",code:{hex:""}},x=function(e){var t=e.colors,n=e.updateColors,c=Object(u.f)().push;console.log(t);var l=Object(a.useState)(!1),r=Object(p.a)(l,2),i=r[0],s=r[1],m=Object(a.useState)(w),f=Object(p.a)(m,2),d=f[0],h=f[1],E=Object(a.useState)({color:"",code:{hex:""}}),g=Object(p.a)(E,2),v=g[0],x=g[1];return o.a.createElement("div",{className:"colors-wrap"},o.a.createElement("p",null,"colors"),o.a.createElement("ul",null,t.map((function(e){return o.a.createElement("li",{key:e.color,onClick:function(){return function(e){s(!0),h(e)}(e)}},o.a.createElement("span",null,o.a.createElement("span",{className:"delete",onClick:function(a){var o;a.stopPropagation(),(o=e.id).preventDefault(),window.confirm("Are you sure you want to delete this color?")&&(n(t.filter((function(e){return e.id!==o}))),O().delete("/api/colors/".concat(o)).then((function(e){console.log("Color with ID: ".concat(o,", was deleted"))})).catch((function(e){console.log(e)})))}},"x")," ",e.color),o.a.createElement("div",{className:"color-box",style:{backgroundColor:e.code.hex}}))}))),i&&o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),O().put("api/colors/".concat(d.id),d).then((function(e){n([].concat(Object(j.a)(t.filter((function(e){return e.id!==d.id}))),[e.data])),s(!1)})).catch((function(e){return console.log(e)})),window.location.reload()}},o.a.createElement("legend",null,"edit color"),o.a.createElement("label",null,"color name:",o.a.createElement("input",{onChange:function(e){return h(Object(b.a)({},d,{color:e.target.value}))},value:d.color})),o.a.createElement("label",null,"hex code:",o.a.createElement("input",{onChange:function(e){return h(Object(b.a)({},d,{code:{hex:e.target.value}}))},value:d.code.hex})),o.a.createElement("div",{className:"button-row"},o.a.createElement("button",{type:"submit"},"save"),o.a.createElement("button",{onClick:function(){return s(!1)}},"cancel"))),o.a.createElement("div",{className:"spacer"}),o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),O().post("/api/colors",v).then((function(e){console.log(v)})).catch((function(e){console.log(e)})),c("/bubbles")}},o.a.createElement("label",null,"color name:",o.a.createElement("input",{onChange:function(e){return x(Object(b.a)({},v,{color:e.target.value}))},value:v.color})),o.a.createElement("label",null,"hex code:",o.a.createElement("input",{onChange:function(e){return x(Object(b.a)({},v,{code:{hex:e.target.value}}))},value:v.code.hex})),o.a.createElement("button",{type:"submit"},"Add Color")))},k=function(){var e=Object(a.useState)([]),t=Object(p.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){(function(){var e=localStorage.getItem("token");return d.a.create({baseURL:"http://localhost:5000",headers:{Authorization:e}})})().get("/api/colors").then((function(e){c(e.data)})).catch((function(e){console.log(e)}))}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(x,{colors:n,updateColors:c}),o.a.createElement(v,{colors:n}))};var y=function(){return o.a.createElement(r.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(u.b,{exact:!0,path:"/",component:h}),o.a.createElement(s,{exact:!0,path:"/bubbles",component:k})))},C=document.getElementById("root");l.a.render(o.a.createElement(y,null),C)},67:function(e,t,n){e.exports=n(156)},92:function(e,t,n){}},[[67,1,2]]]);
//# sourceMappingURL=main.6312bb2f.chunk.js.map